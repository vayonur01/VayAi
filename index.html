<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Chatbot</title>
  <style>
    body { font-family: Arial; background:#f4f4f4; }
    #box { width:400px; margin:40px auto; background:#fff; padding:10px; }
    textarea { width:100%; height:60px; }
    button { width:100%; margin-top:5px; }
    #chat { margin-top:10px; }
  </style>
</head>
<body>

<div id="box">
  <h3>Chatbot</h3>
  <textarea id="input" placeholder="Mesaj yaz"></textarea>
  <button onclick="send()">Gönder</button>
  <div id="chat"></div>
</div>

<script>
// ⚠️ API KEY BURADA (GÜVENSİZ)
const OPENAI_API_KEY = "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";

async function send() {
  const input = document.getElementById("input");
  const chat = document.getElementById("chat");

  if (!input.value) return;

  chat.innerHTML += "<b>Sen:</b> " + input.value + "<br>";

  const res = await fetch("https://api.openai.com/v1/chat/completions", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "Authorization": "Bearer " + OPENAI_API_KEY
    },
    body: JSON.stringify({
      model: "gpt-4o-mini",
      messages: [
        { role: "system", content: "Sen yardımcı bir chatbotsun" },
        { role: "user", content: input.value }
      ]
    })
  });

  const data = await res.json();

  if (data.error) {
    chat.innerHTML += "<b>Hata:</b> " + data.error.message + "<br>";
  } else {
    chat.innerHTML += "<b>Bot:</b> " + data.choices[0].message.content + "<br>";
  }

  input.value = "";
}
</script>

</body>
</html>
